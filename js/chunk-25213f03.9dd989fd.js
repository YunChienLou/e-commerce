(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25213f03"],{8365:function(t,e,i){"use strict";i("ba70")},ba70:function(t,e,i){},c740:function(t,e,i){"use strict";var c=i("23e7"),n=i("b727").findIndex,a=i("44d2"),s="findIndex",r=!0;s in[]&&Array(1)[s]((function(){r=!1})),c({target:"Array",proto:!0,forced:r},{findIndex:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),a(s)},cae6:function(t,e,i){"use strict";i.r(e);i("4de4"),i("d3b7"),i("a4d3"),i("e01a");var c=i("7a23"),n=function(t){return Object(c["C"])("data-v-475f2c5e"),t=t(),Object(c["A"])(),t},a=n((function(){return Object(c["i"])("div",{class:"loadingio-spinner-double-ring-4kp4uv8lym2"},[Object(c["i"])("div",{class:"ldio-ei11i0en32"},[Object(c["i"])("div"),Object(c["i"])("div"),Object(c["i"])("div",null,[Object(c["i"])("div")]),Object(c["i"])("div",null,[Object(c["i"])("div")])])],-1)})),s={class:"container mt-3",style:{"z-index":"-3"}},r={class:"row"},l={id:"sideNav",class:"col-xl-2 mt-5"},o={class:"productSideNav"},d=n((function(){return Object(c["i"])("div",{class:"sideHeading"},[Object(c["i"])("h3",null,"全部商品")],-1)})),u={class:"sideList"},b={class:"productSideNav nav2"},f=n((function(){return Object(c["i"])("div",{class:"sideHeading"},[Object(c["i"])("h3",null,"車型分類")],-1)})),O={class:"sideList"},j={class:"col-xl-10"},v={class:""},h={class:"title stack h1",style:{"--stacks":"3"}},g={style:{"--index":"0"}},p=Object(c["k"])("所有商品 "),m=n((function(){return Object(c["i"])("div",{class:"slash"},null,-1)})),y={style:{"--index":"1"}},I=Object(c["k"])("所有商品 "),x=n((function(){return Object(c["i"])("div",{class:"slash"},null,-1)})),k={style:{"--index":"2"}},C=Object(c["k"])("所有商品 "),S=n((function(){return Object(c["i"])("div",{class:"slash"},null,-1)})),L={class:"mt-5"},w=["data-index"],F=["src","onClick"],E={class:"card-body"},$={class:"row d-flex mb-3"},z={class:"align-center"},A={class:"badge bg-teslaRed mx-3"},D={class:"row mb-3 mx-2"},N={class:"table"},J=n((function(){return Object(c["i"])("thead",null,[Object(c["i"])("tr",null,[Object(c["i"])("th",{scope:"col"},"#"),Object(c["i"])("th",{scope:"col"},"性能指標"),Object(c["i"])("th",{scope:"col"},"參數")])],-1)})),P={scope:"row"},B={class:"row"},M={class:"col"},_={class:"btn-group btn-group-xl d-flex"},U=["onClick"],G=["disabled","onClick"],R={key:0,class:"spinner-grow text-danger spinner-grow-sm",role:"status"},H=n((function(){return Object(c["i"])("span",{class:"visually-hidden"},"Loading...",-1)})),T=[H],V={class:"col"},q={class:"text-center"};function W(t,e,i,n,H,W){var Y=this,K=Object(c["I"])("Loading"),Q=Object(c["I"])("font-awesome-icon");return Object(c["z"])(),Object(c["h"])(c["a"],null,[Object(c["l"])(K,{active:H.isLoading},{default:Object(c["U"])((function(){return[a]})),_:1},8,["active"]),Object(c["i"])("div",s,[Object(c["i"])("div",r,[Object(c["i"])("div",l,[Object(c["i"])("div",o,[d,Object(c["i"])("ul",u,[Object(c["i"])("li",{class:"sideItem",onClick:e[0]||(e[0]=function(t){return H.filter=""})},"全部車款")])]),Object(c["i"])("div",b,[f,Object(c["i"])("ul",O,[Object(c["i"])("li",{class:"sideItem",onClick:e[1]||(e[1]=function(t){return H.filter="SUV"})},"SUV"),Object(c["i"])("li",{class:"sideItem",onClick:e[2]||(e[2]=function(t){return H.filter="Sedan"})},"Sedan"),Object(c["i"])("li",{class:"sideItem",onClick:e[3]||(e[3]=function(t){return H.filter="Sport"})},"Sport")])])]),Object(c["i"])("div",j,[Object(c["i"])("div",v,[Object(c["i"])("div",h,[Object(c["i"])("span",g,[p,m,Object(c["i"])("h4",null,Object(c["L"])(H.filter),1)]),Object(c["i"])("span",y,[I,x,Object(c["i"])("h4",null,Object(c["L"])(H.filter),1)]),Object(c["i"])("span",k,[C,S,Object(c["i"])("h4",null,Object(c["L"])(H.filter),1)])])]),Object(c["i"])("div",L,[Object(c["l"])(c["c"],{onBeforeEnter:W.listBeforeEnter,onEnter:W.listEnter,css:!1},{default:Object(c["U"])((function(){return[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["G"])(W.filterData,(function(e,i){return Object(c["z"])(),Object(c["h"])("div",{class:"card mb-3",style:{"max-width":"900px"},key:e.id,"data-index":i},[Object(c["i"])("div",null,[Object(c["i"])("img",{src:e.images[0],class:"img-fluid rounded-start",alt:"...",onClick:function(t){return W.getProduct(e.id)}},null,8,F),Object(c["i"])("div",E,[Object(c["i"])("div",$,[Object(c["i"])("h1",z,[Object(c["k"])(Object(c["L"])(e.title)+" ",1),Object(c["i"])("span",A,Object(c["L"])(e.category),1)])]),Object(c["i"])("div",D,[Object(c["i"])("table",N,[J,Object(c["i"])("tbody",null,[(Object(c["z"])(!0),Object(c["h"])(c["a"],null,Object(c["G"])(t.$para.table(e.description),(function(t,e){return Object(c["z"])(),Object(c["h"])("tr",{key:e},[Object(c["i"])("th",P,Object(c["L"])(e+1),1),Object(c["i"])("td",null,Object(c["L"])(t.title),1),Object(c["i"])("td",null,Object(c["L"])(t.content),1)])})),128))])])]),Object(c["i"])("div",B,[Object(c["i"])("div",M,[Object(c["i"])("div",_,[Object(c["i"])("button",{type:"button",class:"btn btn-outline-teslaGray",onClick:Object(c["W"])((function(t){return W.addFavItem(e.id)}),["prevent"])},[Object(c["l"])(Q,{icon:[W.favState(e.id),"bookmark"]},null,8,["icon"])],8,U),Object(c["i"])("button",{type:"button",class:"btn btn-outline-teslaRed",disabled:Y.status.loadingItem===e.id,onClick:function(t){return W.addCart(e.id)}},[Y.status.loadingItem===e.id?(Object(c["z"])(),Object(c["h"])("div",R,T)):Object(c["g"])("",!0),Object(c["l"])(Q,{icon:["fas","cart-shopping"]})],8,G)])]),Object(c["i"])("div",V,[Object(c["i"])("h4",q," NT$"+Object(c["L"])(t.$filters.currency(e.price)),1)])])])])],8,w)})),128))]})),_:1},8,["onBeforeEnter","onEnter"])])])])])],64)}i("99af"),i("c740"),i("a434"),i("e9c4"),i("159b");var Y=i("cfb9"),K=i("cffa"),Q=i("1dac");K["a"].registerPlugin(Q["a"]);var X={data:function(){return{products:[],product:{},status:{loadingItem:""},favItems:JSON.parse(localStorage.getItem("favoriteItem"))||[""],filter:"",isLoading:!1}},computed:{favState:function(){return function(t){var e=this.favItems||[""];return e.indexOf(t)>-1?(console.log(t+" yes"),"fas"):(console.log(t+" nope"),"far")}},filterData:function(){var t=this,e=this.products.filter((function(e){return""===t.filter?t.products:t.filter===e.category?e:void 0}));return e}},methods:{getProducts:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("ryan-api","/products/all");this.isLoading=!0,this.$http.get(e).then((function(e){t.isLoading=!1,t.products=e.data.products,console.log("products:",e)}))},getProduct:function(t){this.$router.push("/user/product/".concat(t))},addCart:function(t){var e=this,i="".concat("https://vue3-course-api.hexschool.io/","api/").concat("ryan-api","/cart"),c={product_id:t,qty:1};this.status.loadingItem=t,this.$http.post(i,{data:c}).then((function(t){console.log(t),e.status.loadingItem="",e.$httpMessageState(t,"加入購物車"),Y["a"].emit("cartChange","add")}))},addFavItem:function(t){console.log(this.favItems),this.status.loadingItem=t;var e=this.favItems.findIndex((function(e){return e===t}));this.favItems.indexOf(t)<0?(this.favItems.push(t),this.status.loadingItem="",Y["a"].emit("push-message",{style:"success",title:"車款加入我的最愛"}),Y["a"].emit("favChange","add")):(this.favItems.splice(e,1),this.status.loadingItem="",Y["a"].emit("push-message",{style:"danger",title:"車款從我的最愛移除"}),Y["a"].emit("favChange","minus")),localStorage.setItem("favoriteItem",JSON.stringify(this.favItems))},listBeforeEnter:function(t){t.style.opacity=0,t.style.transform="translateY(-300px)"},listEnter:function(t,e){Q["a"].matchMedia({all:function(){K["a"].registerPlugin(Q["a"]),Q["a"].matchMedia({all:function(){K["a"].to(t,{scrollTrigger:{trigger:t,start:"100px bottom",end:"+=500",invalidateOnResize:!0,toggleActions:"play none none reverse"},opacity:1,y:0,delay:1,duration:3,ease:"power4.out",onComplete:e})}})}})}},created:function(){this.getProducts()},mounted:function(){Q["a"].refresh()},unmounted:function(){var t=Q["a"].getAll();t.forEach((function(t){t.kill()})),Q["a"].clearMatchMedia()}},Z=(i("8365"),i("6b0d")),tt=i.n(Z);const et=tt()(X,[["render",W],["__scopeId","data-v-475f2c5e"]]);e["default"]=et},e9c4:function(t,e,i){var c=i("23e7"),n=i("da84"),a=i("d066"),s=i("2ba4"),r=i("e330"),l=i("d039"),o=n.Array,d=a("JSON","stringify"),u=r(/./.exec),b=r("".charAt),f=r("".charCodeAt),O=r("".replace),j=r(1..toString),v=/[\uD800-\uDFFF]/g,h=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,p=function(t,e,i){var c=b(i,e-1),n=b(i,e+1);return u(h,t)&&!u(g,n)||u(g,t)&&!u(h,c)?"\\u"+j(f(t,0),16):t},m=l((function(){return'"\\udf06\\ud834"'!==d("\udf06\ud834")||'"\\udead"'!==d("\udead")}));d&&c({target:"JSON",stat:!0,forced:m},{stringify:function(t,e,i){for(var c=0,n=arguments.length,a=o(n);c<n;c++)a[c]=arguments[c];var r=s(d,null,a);return"string"==typeof r?O(r,v,p):r}})}}]);
//# sourceMappingURL=chunk-25213f03.9dd989fd.js.map