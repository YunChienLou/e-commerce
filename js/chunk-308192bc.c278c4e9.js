(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-308192bc"],{2172:function(t,e,c){"use strict";c.r(e);c("b0c0");var n=c("7a23"),r=Object(n["i"])("div",{class:"row text-center mt-5"},[Object(n["i"])("h2",null,"感謝您的購買"),Object(n["i"])("h2",null,"我們正在準備您的訂單")],-1),s={class:"my-5 row justify-content-center"},o={class:"table align-middle"},i=Object(n["i"])("thead",null,[Object(n["i"])("th",null,"品名"),Object(n["i"])("th",null,"數量"),Object(n["i"])("th",null,"單價")],-1),l={class:"text-end"},u=Object(n["i"])("td",{colspan:"2",class:"text-end"},"總計",-1),a={class:"text-end"},b={class:"table"},d=Object(n["i"])("th",{width:"100"},"Email",-1),O=Object(n["i"])("th",null,"姓名",-1),j=Object(n["i"])("th",null,"收件人電話",-1),p=Object(n["i"])("th",null,"收件人地址",-1),h=Object(n["i"])("th",null,"付款狀態",-1),f={key:0},v={key:1,class:"text-success"},m={class:"row d-flex justify-content-center mb-3"},g=Object(n["i"])("button",{class:"btn btn-teslaRed form-control"}," 回到首頁 ",-1),y=Object(n["i"])("button",{class:"btn btn-teslaRed form-control"}," 回到車款頁面 ",-1);function L(t,e,c,L,x,w){var I=Object(n["I"])("Loading"),$=Object(n["I"])("Process"),k=Object(n["I"])("router-link");return Object(n["z"])(),Object(n["h"])(n["a"],null,[Object(n["l"])(I,{active:x.isLoading},null,8,["active"]),r,Object(n["i"])("div",s,[Object(n["i"])("form",{class:"col-md-6",onSubmit:e[0]||(e[0]=Object(n["W"])((function(){return w.payOrder&&w.payOrder.apply(w,arguments)}),["prevent"]))},[Object(n["l"])($,{page:x.processPage},null,8,["page"]),Object(n["i"])("table",o,[i,Object(n["i"])("tbody",null,[(Object(n["z"])(!0),Object(n["h"])(n["a"],null,Object(n["G"])(x.order.products,(function(e){return Object(n["z"])(),Object(n["h"])("tr",{key:e.id},[Object(n["i"])("td",null,Object(n["L"])(e.product.title),1),Object(n["i"])("td",null,Object(n["L"])(e.qty)+"/"+Object(n["L"])(e.product.unit),1),Object(n["i"])("td",l," $NT "+Object(n["L"])(t.$filters.currency(e.final_total)),1)])})),128))]),Object(n["i"])("tfoot",null,[Object(n["i"])("tr",null,[u,Object(n["i"])("td",a,"$NT "+Object(n["L"])(t.$filters.currency(x.order.total)),1)])])]),Object(n["i"])("table",b,[Object(n["i"])("tbody",null,[Object(n["i"])("tr",null,[d,Object(n["i"])("td",null,Object(n["L"])(x.order.user.email),1)]),Object(n["i"])("tr",null,[O,Object(n["i"])("td",null,Object(n["L"])(x.order.user.name),1)]),Object(n["i"])("tr",null,[j,Object(n["i"])("td",null,Object(n["L"])(x.order.user.tel),1)]),Object(n["i"])("tr",null,[p,Object(n["i"])("td",null,Object(n["L"])(x.order.user.address),1)]),Object(n["i"])("tr",null,[h,Object(n["i"])("td",null,[x.order.is_paid?(Object(n["z"])(),Object(n["h"])("span",v,"付款完成")):(Object(n["z"])(),Object(n["h"])("span",f,"尚未付款"))])])])])],32)]),Object(n["i"])("div",m,[Object(n["l"])(k,{class:"col-3",to:"/"},{default:Object(n["U"])((function(){return[g]})),_:1}),Object(n["l"])(k,{class:"col-3",to:"/user/product"},{default:Object(n["U"])((function(){return[y]})),_:1})])],64)}c("99af");var x=c("3679"),w={data:function(){return{order:{user:{}},orderId:"",isLoading:!1,processPage:3}},components:{Process:x["a"]},inject:["emitter"],methods:{getOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("ryan-api","/order/").concat(this.orderId);this.$http.get(e).then((function(e){e.data.success&&(t.order=e.data.order,console.log(t.order))}))},payOrder:function(){var t=this,e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("ryan-api","/pay/").concat(this.orderId);this.$http.post(e).then((function(e){console.log(e),e.data.success&&(t.getOrder(),t.$router.push("/user/finish"))}))}},created:function(){var t=this;this.emitter.on("finish-order",(function(e){console.log(e),t.orderId=e}))},mounted:function(){this.getOrder(),console.log(this.order)}},I=c("6b0d"),$=c.n(I);const k=$()(w,[["render",L]]);e["default"]=k},3679:function(t,e,c){"use strict";var n=c("7a23"),r={class:"steps"},s=Object(n["j"])('<progress id="progress" value="0" max="100"></progress><div class="step-item"><button class="step-button text-center done" type="button">1</button><div class="step-title">填寫資訊</div></div><div class="step-item"><button class="step-button text-center collapsed" type="button">2</button><div class="step-title">確認訂單</div></div><div class="step-item"><button class="step-button text-center collapsed" type="button">3</button><div class="step-title">完成購車</div></div>',4),o=[s];function i(t,e,c,s,i,l){return Object(n["z"])(),Object(n["h"])("div",r,o)}c("a9e3"),c("d3b7"),c("159b");var l={props:{page:Number},methods:{button:function(){var t=document.querySelectorAll(".step-button"),e=document.querySelector("#progress"),c=this.$props.page-1;e.setAttribute("value",100*c/(t.length-1)),t.forEach((function(t,e){c>=e&&t.classList.add("done"),c<e&&t.classList.remove("done")}))}},mounted:function(){this.button()}},u=c("6b0d"),a=c.n(u);const b=a()(l,[["render",i]]);e["a"]=b},b0c0:function(t,e,c){var n=c("83ab"),r=c("5e77").EXISTS,s=c("e330"),o=c("9bf2").f,i=Function.prototype,l=s(i.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,a=s(u.exec),b="name";n&&!r&&o(i,b,{configurable:!0,get:function(){try{return a(u,l(this))[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-308192bc.c278c4e9.js.map