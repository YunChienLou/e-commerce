{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?2044","webpack:///./src/views/Products.vue?8c83","webpack:///./src/views/Products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/views/Products.vue?b2a7"],"names":["aria-label","class","aria-hidden","prePage","pages","total_pages","page","current_page","key","updatePage","nextPage","props","methods","this","$emit","hasPre","has_pre","hasNext","has_next","__exports__","render","width","active","isLoading","type","openModal","products","item","id","catagory","title","$filters","currency","origin_price","price","is_enabled","openDelModal","pagination","getProducts","ref","product","tempProduct","updateProduct","delProduct","tabindex","aria-labelledby","role","data-bs-dismiss","for","uploadFile","alt","src","imageUrl","images","image","placeholder","splice","category","unit","description","content","true-value","false-value","Object","default","watch","data","modal","uploadedFile","$refs","fileInput","files","formdata","FormData","append","url","$http","post","then","res","console","log","success","push","mixins","modalMixin","isNew","components","ProductModal","DelModal","Pagination","inject","api","get","productComponent","productModal","showModal","httpMethod","response","hideModal","emitter","emit","style","message","join","delComponent","delModal","delete","created"],"mappings":"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","file":"js/chunk-7b94619e.1d524d2a.js","sourcesContent":["<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination justify-content-center\">\n      <li class=\"page-item\">\n        <a\n          class=\"page-link\"\n          @click.prevent=\"prePage(pages)\"\n          aria-label=\"Previous\"\n        >\n          <span aria-hidden=\"true\">&laquo;</span>\n        </a>\n      </li>\n      <li\n        class=\"page-item\"\n        :class=\"{ active: page === pages.current_page }\"\n        v-for=\"page in pages.total_pages\"\n        :key=\"page\"\n      >\n        <a class=\"page-link\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n      </li>\n      <li class=\"page-item\">\n        <a class=\"page-link\" @click.prevent=\"nextPage(pages)\" aria-label=\"Next\">\n          <span aria-hidden=\"true\">&raquo;</span>\n        </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  props: [\"pages\"],\n  methods: {\n    updatePage(page) {\n      this.$emit(\"emit-page\", page);\n    },\n    prePage(pages) {\n      const prePage = pages.current_page - 1;\n      const hasPre = pages.has_pre;\n      if (hasPre) {\n        this.$emit(\"emit-page\", prePage);\n      }\n    },\n    nextPage(pages) {\n      const nextPage = pages.current_page + 1;\n      const hasNext = pages.has_next;\n      if (hasNext) {\n        this.$emit(\"emit-page\", nextPage);\n      }\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=96eb834a\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\web projects\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Products.vue?vue&type=style&index=0&id=23518188&scoped=true&lang=css\"","<template>\n  <Loading :active=\"isLoading\">\n    <div class=\"loadingio-spinner-double-ring-4kp4uv8lym2\">\n      <div class=\"ldio-ei11i0en32\">\n        <div></div>\n        <div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n      </div>\n    </div>\n  </Loading>\n  <div class=\"text-end\">\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">\n      增加一個商品\n    </button>\n  </div>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"item in products\" :key=\"item.id\">\n        <td>{{ item.catagory }}</td>\n        <td>{{ item.title }}</td>\n        <td class=\"text-right\">\n          {{ $filters.currency(item.origin_price) }}\n        </td>\n        <td class=\"text-right\">\n          {{ $filters.currency(item.price) }}\n        </td>\n        <td>\n          <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n          <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n          <div class=\"btn-group\">\n            <button\n              class=\"btn btn-outline-primary btn-sm\"\n              @click=\"openModal(false, item)\"\n            >\n              編輯\n            </button>\n            <button\n              class=\"btn btn-outline-danger btn-sm\"\n              @click=\"openDelModal(item)\"\n            >\n              刪除\n            </button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <Pagination :pages=\"pagination\" @emit-page=\"getProducts\"></Pagination>\n  <ProductModal\n    ref=\"productModal\"\n    :product=\"tempProduct\"\n    @update-product=\"updateProduct\"\n  ></ProductModal>\n  <!-- @update-product=\"updateProduct\" 子物件將資料傳到父後 用updateProduct來接收 -->\n  <DelModal\n    ref=\"delModal\"\n    :item=\"tempProduct\"\n    @del-item=\"delProduct\"\n  ></DelModal>\n</template>\n<script>\nimport ProductModal from \"@/components/ProductModal.vue\";\nimport DelModal from \"@/components/DelModal.vue\";\nimport Pagination from \"@/components/Pagination.vue\";\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination,\n  },\n  inject: [\"emitter\"],\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        this.isLoading = false;\n        if (res.data.success) {\n          console.log(res.data);\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        }\n      });\n    },\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {};\n      } else {\n        this.tempProduct = { ...item };\n      }\n      this.isNew = isNew;\n      const productComponent = this.$refs.productModal;\n      productComponent.showModal();\n    },\n    updateProduct(item) {\n      this.tempProduct = item;\n      // 新增\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      let httpMethod = \"post\";\n      // 修改\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        httpMethod = \"put\";\n      }\n      const productComponent = this.$refs.productModal;\n      this.$http[httpMethod](api, { data: this.tempProduct }).then(\n        (response) => {\n          console.log(response);\n          productComponent.hideModal();\n\n          if (response.data.success) {\n            this.getProducts();\n            this.emitter.emit(\"push-message\", {\n              style: \"success\",\n              title: \"更新成功\",\n            });\n          } else {\n            this.emitter.emit(\"push-message\", {\n              style: \"danger\",\n              title: \"更新失敗\",\n              content: response.data.message.join(\"、\"),\n            });\n          }\n        }\n      );\n    },\n    openDelModal(item) {\n      this.tempProduct = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.showModal();\n    },\n    delProduct() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      this.isLoading = true;\n      this.$http.delete(url).then((res) => {\n        this.isLoading = false;\n        console.log(res.data);\n        const delComponent = this.$refs.delModal;\n        delComponent.hideModal();\n        this.getProducts();\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n<style type=\"text/css\" scoped>\n@keyframes ldio-ei11i0en32 {\n  0% {\n    transform: rotate(0);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.ldio-ei11i0en32 div {\n  box-sizing: border-box !important;\n}\n.ldio-ei11i0en32 > div {\n  position: absolute;\n  width: 156px;\n  height: 156px;\n  top: 22px;\n  left: 22px;\n  border-radius: 50%;\n  border: 8px solid #000;\n  border-color: #cc0000 transparent #cc0000 transparent;\n  animation: ldio-ei11i0en32 1s linear infinite;\n}\n\n.ldio-ei11i0en32 > div:nth-child(2),\n.ldio-ei11i0en32 > div:nth-child(4) {\n  width: 136px;\n  height: 136px;\n  top: 32px;\n  left: 32px;\n  animation: ldio-ei11i0en32 1s linear infinite reverse;\n}\n.ldio-ei11i0en32 > div:nth-child(2) {\n  border-color: transparent #666666 transparent #666666;\n}\n.ldio-ei11i0en32 > div:nth-child(3) {\n  border-color: transparent;\n}\n.ldio-ei11i0en32 > div:nth-child(3) div {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform: rotate(45deg);\n}\n.ldio-ei11i0en32 > div:nth-child(3) div:before,\n.ldio-ei11i0en32 > div:nth-child(3) div:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  top: -8px;\n  left: 66px;\n  background: #cc0000;\n  border-radius: 50%;\n  box-shadow: 0 148px 0 0 #cc0000;\n}\n.ldio-ei11i0en32 > div:nth-child(3) div:after {\n  left: -8px;\n  top: 66px;\n  box-shadow: 148px 0 0 0 #cc0000;\n}\n\n.ldio-ei11i0en32 > div:nth-child(4) {\n  border-color: transparent;\n}\n.ldio-ei11i0en32 > div:nth-child(4) div {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  transform: rotate(45deg);\n}\n.ldio-ei11i0en32 > div:nth-child(4) div:before,\n.ldio-ei11i0en32 > div:nth-child(4) div:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  top: -8px;\n  left: 56px;\n  background: #666666;\n  border-radius: 50%;\n  box-shadow: 0 128px 0 0 #666666;\n}\n.ldio-ei11i0en32 > div:nth-child(4) div:after {\n  left: -8px;\n  top: 56px;\n  box-shadow: 128px 0 0 0 #666666;\n}\n.loadingio-spinner-double-ring-4kp4uv8lym2 {\n  width: 200px;\n  height: 200px;\n  display: inline-block;\n  overflow: hidden;\n  background: url(\"../assets/tesla/tesla-icon.png\") no-repeat;\n  background-size: 80px auto;\n  background-position: center;\n}\n.ldio-ei11i0en32 {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0) scale(1);\n  backface-visibility: hidden;\n  transform-origin: 0 0; /* see note above */\n  background-color: white;\n  z-index: -6;\n  border-radius: 50%;\n}\n.ldio-ei11i0en32 div {\n  box-sizing: content-box;\n}\n</style>\n","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <!-- 請同學自行新增 v-model -->\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>ADD PRODUCT</span>\n          </h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <!-- <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  v-model=\"tempProduct.imageUrl\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div> -->\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <input\n                  type=\"file\"\n                  id=\"customFile\"\n                  class=\"form-control\"\n                  @change=\"uploadFile\"\n                  ref=\"fileInput\"\n                />\n              </div>\n              <img class=\"img-fluid\" alt=\"\" :src=\"tempProduct.imageUrl\" />\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\" v-if=\"tempProduct.images\">\n                <div\n                  v-for=\"(image, key) in tempProduct.images\"\n                  class=\"mb-3 input-group\"\n                  :key=\"key\"\n                >\n                  <img class=\"img-fluid\" alt=\"\" :src=\"image\" />\n\n                  <input\n                    type=\"url\"\n                    class=\"form-control form-control\"\n                    v-model=\"tempProduct.images[key]\"\n                    placeholder=\"請輸入連結\"\n                  />\n                  <button\n                    type=\"button\"\n                    class=\"btn btn-outline-danger\"\n                    @click=\"tempProduct.images.splice(key, 1)\"\n                  >\n                    移除\n                  </button>\n                </div>\n                <!-- <div\n                  v-if=\"\n                    tempProduct.images[tempProduct.images.length - 1] || !tempProduct.images.length\n                  \"\n                >\n                  <button\n                    class=\"btn btn-outline-primary btn-sm d-block w-100\"\n                    @click=\"tempProduct.images.push('')\"\n                  >\n                    新增圖片\n                  </button>\n                </div> -->\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  v-model=\"tempProduct.title\"\n                  placeholder=\"請輸入標題\"\n                />\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    v-model=\"tempProduct.category\"\n                    placeholder=\"請輸入分類\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    v-model=\"tempProduct.unit\"\n                    placeholder=\"請輸入單位\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    v-model.number=\"tempProduct.origin_price\"\n                    placeholder=\"請輸入原價\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    v-model.number=\"tempProduct.price\"\n                    placeholder=\"請輸入售價\"\n                  />\n                </div>\n              </div>\n              <hr />\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  v-model=\"tempProduct.description\"\n                  placeholder=\"請輸入產品描述\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  v-model=\"tempProduct.content\"\n                  placeholder=\"請輸入產品說明內容\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">\n                    是否啟用\n                  </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-outline-secondary\"\n            data-bs-dismiss=\"modal\"\n          >\n            取消\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary\"\n            @click=\"$emit('update-product', tempProduct)\"\n          >\n            確認\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport modalMixin from \"@/mixins/modalMixin\";\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {};\n      },\n    },\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      // 多圖範例\n      if (!this.tempProduct.images) {\n        this.tempProduct.images = [];\n      }\n    },\n  },\n  data() {\n    return {\n      modal: {},\n      tempProduct: {},\n      isLoading: false,\n    };\n  },\n  methods: {\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0];\n      const formdata = new FormData();\n      formdata.append(\"file-to-upload\", uploadedFile);\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.isLoading = true;\n      this.$http.post(url, formdata).then((res) => {\n        this.isLoading = false;\n        console.log(res.data);\n        if (res.data.success) {\n          this.tempProduct.images.push(res.data.imageUrl);\n          console.log(this.tempProduct.images);\n        }\n      });\n    },\n  },\n  mixins: [modalMixin],\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=136cee61\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\web projects\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=23518188&scoped=true\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport \"./Products.vue?vue&type=style&index=0&id=23518188&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\web projects\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23518188\"]])\n\nexport default __exports__"],"sourceRoot":""}